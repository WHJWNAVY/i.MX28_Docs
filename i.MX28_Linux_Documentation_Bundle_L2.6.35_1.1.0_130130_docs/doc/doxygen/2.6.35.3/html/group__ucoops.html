<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MXC Linux BSP: User Context Operations</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>User Context Operations<br>
<small>
[<a class="el" href="group__objman.html">Object-Manipulation Operations</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucoops.html#g80939f11c45d8e3eaa6dac7ba650875b">fsl_shw_uco_init</a> (<a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *user_ctx, uint16_t pool_size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucoops.html#g22e0ac04fb01399d4a1fabd70d2280f1">fsl_shw_uco_set_reference</a> (<a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *user_ctx, uint32_t reference)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucoops.html#g76e960856969ed672b984c806c816755">fsl_shw_uco_set_callback</a> (<a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *user_ctx, void(*callback_fn)(<a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *uco))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucoops.html#gb92f43c8379ca5e8cad8c4a9f6364007">fsl_shw_uco_set_flags</a> (<a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *user_ctx, uint32_t flags)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucoops.html#g113159fca1fc4ebd5dcc3e1c634bbe65">fsl_shw_uco_clear_flags</a> (<a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *user_ctx, uint32_t flags)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucoops.html#g9f003a94c7675cb82c92479be0bc9433">fsl_shw_uco_set_wrap_key</a> (<a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *user_ctx, <a class="el" href="shw__driver_8h.html#eb5607a9823127b6e0936d021067a6c8">fsl_shw_pf_key_t</a> pf_key)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
These operations should be the only access to the <a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> type/struct, as the internal members of the object are subject to change. The fsl_shw_uco_init() function must be called before any other use of the object. <hr><h2>Function Documentation</h2>
<a class="anchor" name="g113159fca1fc4ebd5dcc3e1c634bbe65"></a><!-- doxytag: member="fsl_shw.h::fsl_shw_uco_clear_flags" ref="g113159fca1fc4ebd5dcc3e1c634bbe65" args="(fsl_shw_uco_t *user_ctx, uint32_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsl_shw_uco_clear_flags           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *&nbsp;</td>
          <td class="paramname"> <em>user_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clear flags in the User Context.<p>
Turns off the flags specified in <em>flags</em>. Other flags are untouched.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user_ctx</em>&nbsp;</td><td>The User Context object to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>ORed values from <a class="el" href="group__lnkflags.html#g166c1d79eef3e76d17bb2f3be919ba19">fsl_shw_user_ctx_flags_t</a>. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g80939f11c45d8e3eaa6dac7ba650875b"></a><!-- doxytag: member="fsl_shw.h::fsl_shw_uco_init" ref="g80939f11c45d8e3eaa6dac7ba650875b" args="(fsl_shw_uco_t *user_ctx, uint16_t pool_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsl_shw_uco_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *&nbsp;</td>
          <td class="paramname"> <em>user_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>pool_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize a User Context Object.<p>
This function must be called before performing any other operation with the Object. It sets the User Context Object to initial values, and set the size of the results pool. The mode will be set to a default of <a class="el" href="group__lnkflags.html#gg166c1d79eef3e76d17bb2f3be919ba1943fa8aa2d5f0730d569bbd0b47d5216d">FSL_UCO_BLOCKING_MODE</a>.<p>
When using non-blocking operations, this sets the maximum number of operations which can be outstanding. This number includes the counts of operations waiting to start, operation(s) being performed, and results which have not been retrieved.<p>
Changes to this value are ignored once user registration has completed. It should be set to 1 if only blocking operations will ever be performed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user_ctx</em>&nbsp;</td><td>The User Context object to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pool_size</em>&nbsp;</td><td>The maximum number of operations which can be outstanding. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g76e960856969ed672b984c806c816755"></a><!-- doxytag: member="fsl_shw.h::fsl_shw_uco_set_callback" ref="g76e960856969ed672b984c806c816755" args="(fsl_shw_uco_t *user_ctx, void(*callback_fn)(fsl_shw_uco_t *uco))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsl_shw_uco_set_callback           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *&nbsp;</td>
          <td class="paramname"> <em>user_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *uco)&nbsp;</td>
          <td class="paramname"> <em>callback_fn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the callback routine for the User Context.<p>
Note that the callback routine may be called when no results are available, and possibly even when no requests are outstanding.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user_ctx</em>&nbsp;</td><td>The User Context object to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>callback_fn</em>&nbsp;</td><td>The function the API will invoke when an operation completes. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gb92f43c8379ca5e8cad8c4a9f6364007"></a><!-- doxytag: member="fsl_shw.h::fsl_shw_uco_set_flags" ref="gb92f43c8379ca5e8cad8c4a9f6364007" args="(fsl_shw_uco_t *user_ctx, uint32_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsl_shw_uco_set_flags           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *&nbsp;</td>
          <td class="paramname"> <em>user_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set flags in the User Context.<p>
Turns on the flags specified in <em>flags</em>. Other flags are untouched.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user_ctx</em>&nbsp;</td><td>The User Context object to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>ORed values from <a class="el" href="group__lnkflags.html#g166c1d79eef3e76d17bb2f3be919ba19">fsl_shw_user_ctx_flags_t</a>. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g22e0ac04fb01399d4a1fabd70d2280f1"></a><!-- doxytag: member="fsl_shw.h::fsl_shw_uco_set_reference" ref="g22e0ac04fb01399d4a1fabd70d2280f1" args="(fsl_shw_uco_t *user_ctx, uint32_t reference)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsl_shw_uco_set_reference           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *&nbsp;</td>
          <td class="paramname"> <em>user_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>reference</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the User Reference for the User Context.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user_ctx</em>&nbsp;</td><td>The User Context object to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reference</em>&nbsp;</td><td>A value which will be passed back with a result. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g9f003a94c7675cb82c92479be0bc9433"></a><!-- doxytag: member="fsl_shw.h::fsl_shw_uco_set_wrap_key" ref="g9f003a94c7675cb82c92479be0bc9433" args="(fsl_shw_uco_t *user_ctx, fsl_shw_pf_key_t pf_key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsl_shw_uco_set_wrap_key           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsl__shw__uco__t.html">fsl_shw_uco_t</a> *&nbsp;</td>
          <td class="paramname"> <em>user_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shw__driver_8h.html#eb5607a9823127b6e0936d021067a6c8">fsl_shw_pf_key_t</a>&nbsp;</td>
          <td class="paramname"> <em>pf_key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Select a key for the key-wrap key for key wrapping/unwrapping<p>
Without a call to this function, default is FSL_SHW_PF_KEY_IIM. The wrap key is used to encrypt and decrypt the per-key random secret which is used to calculate the key which will encrypt/decrypt the user's key.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user_ctx</em>&nbsp;</td><td>The User Context object to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pf_key</em>&nbsp;</td><td>Which key to use. Valid choices are <a class="el" href="group__lnkflags.html#ggeb5607a9823127b6e0936d021067a6c8e806bf971eab15ae51d4745ca7a0a1ac">FSL_SHW_PF_KEY_IIM</a>, <a class="el" href="group__lnkflags.html#ggeb5607a9823127b6e0936d021067a6c83e4cdf5c0894a534b1d418c12a47c249">FSL_SHW_PF_KEY_RND</a>, and <a class="el" href="group__lnkflags.html#ggeb5607a9823127b6e0936d021067a6c8ab93f1515123ba769d31bff91fdd8149">FSL_SHW_PF_KEY_IIM_RND</a>. </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<Title>footer</Title>
</HEAD>
<BODY>
</ul>
</ul>
</ul>
</ul>
<hr size="1">
<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber1">
  <tr>
    <td width="50%"><small>©&nbsp; Freescale Semiconductor, Inc., 2007.&nbsp; 
    All rights reserved.<br>
    </small><FONT COLOR="#FF0000"><small>Freescale Confidential Proprietary<br>
    </small></FONT><small><FONT COLOR="#FF0000">NDA Required</FONT></small></td>
    <td width="50%"><small>
<a href="http://www.doxygen.org/index.html">
<img src="Freescale25.png" alt="doxygen" align="right" border="0" width="129" height="48"></a></small></td>
  </tr>
</table>
<address style="align: right;">&nbsp;</address>
</body>
</html>
