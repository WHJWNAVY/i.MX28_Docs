<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MXC Linux BSP: linux/include/linux/mxc_scc2_driver.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>linux/include/linux/mxc_scc2_driver.h File Reference</h1>(Header file to use the SCC2 driver.)  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscc__config__t.html">scc_config_t</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxc__scc2__driver_8h.html#5ff1dcd138cd282ea1ea03268f3d2fd2">SCC_DRIVER_MAJOR_VERSION</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxc__scc2__driver_8h.html#9a4eb76a726d357026d5dc81010122e2">SCC_DRIVER_MINOR_VERSION_0</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxc__scc2__driver_8h.html#6c4e565cb5d32dc843d4edbd61a830f2">SCC_DRIVER_MINOR_VERSION_2</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxc__scc2__driver_8h.html#5702a043d00485eadd1cfa48f74ca6d4">INT_SCC_SCM</a>&nbsp;&nbsp;&nbsp;MXC_INT_SCC_SCM</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxc__scc2__driver_8h.html#7f71a686bd01d94178ebd9272235bb1e">INT_SCC_SMN</a>&nbsp;&nbsp;&nbsp;MXC_INT_SCC_SMN</td></tr>

<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
(Header file to use the SCC2 driver.) 
<p>
The SCC2 driver is available to other kernel modules directly. Secure Partition functionality is extended to users through the SHW API. Other functionality of the SCC2 is limited to kernel-space users.<p>
With the exception of scc_monitor_security_failure(), all routines are 'synchronous', i.e. they will not return to their caller until the requested action is complete, or fails to complete. Some of these functions could take quite a while to perform, depending upon the request.<p>
Routines are provided to: <ul>
<li>trigger a security-violation alarm - scc_set_sw_alarm() </li>
<li>get configuration and version information - scc_get_configuration() </li>
<li>zeroize memory - scc_zeroize_memories() </li>
<li>Work with secure partitions: scc_allocate_partition() scc_engage_partition() scc_diminish_permissions() scc_release_partition() </li>
<li>Encrypt or decrypt regions of data: scc_encrypt_region() scc_decrypt_region() </li>
<li>monitor the Security Failure alarm - scc_monitor_security_failure() </li>
<li>stop monitoring Security Failure alarm - scc_stop_monitoring_security_failure() </li>
<li>write registers of the SCC - scc_write_register() </li>
<li>read registers of the SCC - scc_read_register()</li>
</ul>
The SCC2 encrypts and decrypts using Triple DES with an internally stored key. When the SCC2 is in Secure mode, it uses its secret, unique-per-chip key. When it is in Non-Secure mode, it uses a default key. This ensures that secrets stay secret if the SCC2 is not in Secure mode.<p>
Not all functions that could be provided in a 'high level' manner have been implemented. Among the missing are interfaces to the ASC/AIC components and the timer functions. These and other features must be accessed through scc_read_register() and scc_write_register(), using the <code>#define</code> values provided.<p>
Here is a glossary of acronyms used in the SCC2 driver documentation:<ul>
<li>CBC - Cipher Block Chaining. A method of performing a block cipher. Each block is encrypted using some part of the result of the previous block's encryption. It needs an 'initialization vector' to seed the operation.</li><li>ECB - Electronic Code Book. A method of performing a block cipher. With a given key, a given block will always encrypt to the same value.</li><li>DES - Data Encryption Standard. (8-byte) Block cipher algorithm which uses 56-bit keys. In SCC2, this key is constant and unique to the device. SCC uses the "triple DES" form of this algorithm.</li><li>AIC - Algorithm Integrity Checker.</li><li>ASC - Algorithm Sequence Checker.</li><li>SMN - Security Monitor. The part of the SCC2 responsible for monitoring for security problems and notifying the CPU and other PISA components.</li><li>SCM - Secure Memory. The part of the SCC2 which handles the cryptography.</li><li>SCC - Security Controller. Central security mechanism for PISA.</li><li>PISA - Platform-Independent Security Architecture. </li></ul>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="5702a043d00485eadd1cfa48f74ca6d4"></a><!-- doxytag: member="mxc_scc2_driver.h::INT_SCC_SCM" ref="5702a043d00485eadd1cfa48f74ca6d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INT_SCC_SCM&nbsp;&nbsp;&nbsp;MXC_INT_SCC_SCM          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interrupt line number of SCM interrupt. 
</div>
</div><p>
<a class="anchor" name="7f71a686bd01d94178ebd9272235bb1e"></a><!-- doxytag: member="mxc_scc2_driver.h::INT_SCC_SMN" ref="7f71a686bd01d94178ebd9272235bb1e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INT_SCC_SMN&nbsp;&nbsp;&nbsp;MXC_INT_SCC_SMN          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interrupt line number of the SMN interrupt. 
</div>
</div><p>
<a class="anchor" name="5ff1dcd138cd282ea1ea03268f3d2fd2"></a><!-- doxytag: member="mxc_scc2_driver.h::SCC_DRIVER_MAJOR_VERSION" ref="5ff1dcd138cd282ea1ea03268f3d2fd2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCC_DRIVER_MAJOR_VERSION&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Major Version of the driver. Used for scc_configuration-&gt;driver_major_version 
</div>
</div><p>
<a class="anchor" name="9a4eb76a726d357026d5dc81010122e2"></a><!-- doxytag: member="mxc_scc2_driver.h::SCC_DRIVER_MINOR_VERSION_0" ref="9a4eb76a726d357026d5dc81010122e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCC_DRIVER_MINOR_VERSION_0&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Old Minor Version of the driver. 
</div>
</div><p>
<a class="anchor" name="6c4e565cb5d32dc843d4edbd61a830f2"></a><!-- doxytag: member="mxc_scc2_driver.h::SCC_DRIVER_MINOR_VERSION_2" ref="6c4e565cb5d32dc843d4edbd61a830f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCC_DRIVER_MINOR_VERSION_2&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Minor Version of the driver. Used for scc_configuration-&gt;driver_minor_version 
</div>
</div><p>
</div>
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<Title>footer</Title>
</HEAD>
<BODY>
</ul>
</ul>
</ul>
</ul>
<hr size="1">
<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber1">
  <tr>
    <td width="50%"><small>©&nbsp; Freescale Semiconductor, Inc., 2007.&nbsp; 
    All rights reserved.<br>
    </small><FONT COLOR="#FF0000"><small>Freescale Confidential Proprietary<br>
    </small></FONT><small><FONT COLOR="#FF0000">NDA Required</FONT></small></td>
    <td width="50%"><small>
<a href="http://www.doxygen.org/index.html">
<img src="Freescale25.png" alt="doxygen" align="right" border="0" width="129" height="48"></a></small></td>
  </tr>
</table>
<address style="align: right;">&nbsp;</address>
</body>
</html>
