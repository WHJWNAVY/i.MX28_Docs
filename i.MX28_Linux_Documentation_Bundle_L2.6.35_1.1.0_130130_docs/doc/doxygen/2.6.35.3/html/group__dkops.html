<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MXC Linux BSP: Driver-to-Kernel Operations</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>Driver-to-Kernel Operations</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#gc4ea068622ba476068356af1e5a366be">os_register_interrupt</a> (char *driver_name, <a class="el" href="portable__os_8h.html#fb6e8d8a9c761a5d88b892a713c3d64b">os_interrupt_id_t</a> interrupt_id, <a class="el" href="portable__os_8h.html#292a8d244b48eb3db5107460191b11b8">os_interrupt_handler_t</a> function)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#gfb310b098fb04642f07c21af3df403e0">os_deregister_interrupt</a> (<a class="el" href="portable__os_8h.html#fb6e8d8a9c761a5d88b892a713c3d64b">os_interrupt_id_t</a> interrupt_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#gee0e81a853a702de227a8cdc5537470f">os_driver_init_registration</a> (<a class="el" href="portable__os_8h.html#4099620f0c099a877846b3739098b600">os_driver_reg_t</a> handle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g746d79bf01506b3b84556cd7fd733cfa">os_driver_add_registration</a> (<a class="el" href="portable__os_8h.html#4099620f0c099a877846b3739098b600">os_driver_reg_t</a> handle, <a class="el" href="portable__os_8h.html#2c72196b3d76a121cc0e0b6bc91fe90a">os_driver_fn_t</a> name, void *function)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g08371d56a1c9a9d6b6dbcf8d5a080bb3">os_driver_complete_registration</a> (<a class="el" href="portable__os_8h.html#4099620f0c099a877846b3739098b600">os_driver_reg_t</a> handle, int major, char *driver_name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#gcdcbb1224bfc1d551a972ccef5052d4f">os_driver_get_major</a> (<a class="el" href="portable__os_8h.html#4099620f0c099a877846b3739098b600">os_driver_reg_t</a> handle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g745130e9c17f4cf2bf12cd94bfc4dfd0">os_driver_remove_registration</a> (int major, char *driver_name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g0499729d4b98c8d8a53372c6d76ad5da">os_printk</a> (char *msg,...)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#gbb713c70ffb5c864c9470e6f1711d6a6">os_alloc_memory</a> (unsigned amount, int flags)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#gcda51a54b44ce0788a295d92faa917de">os_free_memory</a> (void *location)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g7e478c379c1333970ed699584464b188">os_alloc_coherent</a> (unsigned amount, uint32_t *dma_addrp, int flags)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#ga284ac308e869761b86f7bf537b8055d">os_free_coherent</a> (unsigned size, void *virt_addr, uint32_t dma_addr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#ga4a77052164ac99fc1369d44fed670a8">os_map_device</a> (uint32_t start, unsigned range_bytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g063e51a71245abecf155e67ad3415761">os_unmap_device</a> (void *start, unsigned range_bytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g1dc2eba81acedb6ec16595589433e53f">os_copy_to_user</a> (void *to, void *from, unsigned size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g15f39c7291cd7162f1afad7301e93dac">os_copy_from_user</a> (void *to, void *from, unsigned size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g67e2cea32d1237f26cb1b6c7b87bbdfc">os_read8</a> (uint8_t *register_address)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g1a8c6f9875689a20c4c4d45314a2e907">os_write8</a> (uint8_t *register_address, uint8_t value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g74d5dec08d9a5514219195d7d579b8a7">os_read16</a> (uint16_t *register_address)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g4129596ffaebdfce85c27d13a5753ef1">os_write16</a> (uint16_t *register_address, uint16_t value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#gc29de19d086fbb81959d682828185e9a">os_read32</a> (uint32_t *register_address)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#ga5dcf82c7b68d6e9525d14ed809fb421">os_write32</a> (uint32_t *register_address, uint32_t value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#ga22ac9cf1ddff655dbc1a47e35ee9520">os_read64</a> (uint64_t *register_address)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#gd9e053445789c74e4fb4c5ab01cb6a70">os_write64</a> (uint64_t *register_address, uint64_t value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">os_error&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g16c6b2188726b4fe088f472f80ec4964">os_create_task</a> (<a class="el" href="portable__os_8h.html#ee861d0a6028be96920094eab39c33df">os_task_fn_t</a> *task_fn)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g1c433a27817f4b89e7e8edf12fb33579">os_dev_schedule_task</a> (<a class="el" href="portable__os_8h.html#ee861d0a6028be96920094eab39c33df">os_task_fn_t</a> *task_fn)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g8b821ba6b4dd5a1515d90e34a3ab52c9">os_stop_task</a> (<a class="el" href="portable__os_8h.html#ee861d0a6028be96920094eab39c33df">os_task_fn_t</a> *task_fn)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g9211786181e5654bbe3bdfdc7355d5f9">os_mdelay</a> (unsigned long msecs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g1b5d2559d7b0a305aa2e9725ad496589">os_va</a> (uint32_t pa)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g971cc25e12807b8e9292b1182a270661">os_pa</a> (void *va)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#gd4338ff9bdad14659d26d388971e65f9">os_lock_alloc_init</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g2d86f4f01b3d0449226c7235388fac94">os_lock</a> (<a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a> lock_handle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#ga14b2da6f213563604f6d18d1bec1ba5">os_unlock</a> (<a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a> lock_handle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g8bcf7e7da2c6a3329cdaa32bf59c0cbc">os_lock_save_context</a> (<a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a> lock_handle, <a class="el" href="portable__os_8h.html#db370bc4641d66b1e60209122a23587a">os_lock_context_t</a> context)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g059adc093b8dca445a4a4e8bfd89b540">os_unlock_restore_context</a> (<a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a> lock_handle, <a class="el" href="portable__os_8h.html#db370bc4641d66b1e60209122a23587a">os_lock_context_t</a> context)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#gf5e20881451160a10c8d3a84daff0424">os_lock_deallocate</a> (<a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a> lock_handle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="portable__os_8h.html#28c2c207cfd08a24c5c467ecf5dd3b73">os_process_handle_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g70b1d88921c338d1ebdb64267ac98624">os_get_process_handle</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g3ae84e4979e6709f3b07bd37cce0f0e6">os_send_signal</a> (<a class="el" href="portable__os_8h.html#28c2c207cfd08a24c5c467ecf5dd3b73">os_process_handle_t</a> proc, int sig)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g2e953010e68e1289b38948007a19e5a2">os_get_random_bytes</a> (void *buf, unsigned count)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#gdbc31e47f006e8376ffd28455c9bd9fb">os_sleep</a> (<a class="el" href="portable__os_8h.html#6c22ae0bdcfec6ae297ecfe72283a319">os_sleep_object_t</a> object, unsigned condition, unsigned atomic)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dkops.html#g38c6ca1a524b1e0a6cd5b08e362e91d3">os_wake_sleepers</a> (<a class="el" href="portable__os_8h.html#6c22ae0bdcfec6ae297ecfe72283a319">os_sleep_object_t</a> object)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
These are the operations which drivers should call to get the OS to perform services.<hr><h2>Function Documentation</h2>
<a class="anchor" name="g7e478c379c1333970ed699584464b188"></a><!-- doxytag: member="portable_os.h::os_alloc_coherent" ref="g7e478c379c1333970ed699584464b188" args="(unsigned amount, uint32_t *dma_addrp, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* os_alloc_coherent           </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>dma_addrp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocate cache-coherent memory<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>amount</em>&nbsp;</td><td>Number of bytes to allocate </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dma_addrp</em>&nbsp;</td><td>Location to store physical address of allocated memory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Some indication of purpose of memory (needs definition).</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>(virtual space) pointer to allocated memory, or NULL if failed. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gbb713c70ffb5c864c9470e6f1711d6a6"></a><!-- doxytag: member="portable_os.h::os_alloc_memory" ref="gbb713c70ffb5c864c9470e6f1711d6a6" args="(unsigned amount, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* os_alloc_memory           </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocate some kernel memory<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>amount</em>&nbsp;</td><td>Number of 8-bit bytes to allocate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Some indication of purpose of memory (needs definition)</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to allocated memory, or NULL if failed. </dd></dl>

<p>Referenced by <a class="el" href="shw__driver_8c-source.html#l01515">add_entropy()</a>, <a class="el" href="rng__driver_8c-source.html#l00554">fsl_shw_add_entropy()</a>, <a class="el" href="rng__driver_8c-source.html#l00489">fsl_shw_get_random()</a>, <a class="el" href="shw__driver_8c-source.html#l01401">get_results()</a>, <a class="el" href="shw__driver_8c-source.html#l00399">OS_DEV_IOCTL()</a>, <a class="el" href="shw__driver_8c-source.html#l00647">OS_DEV_MMAP()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00097">OS_DEV_OPEN()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00271">rng_test_add_entropy()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00220">rng_test_get_random()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00128">sah_HW_Reset()</a>, and <a class="el" href="sah__queue_8c-source.html#l00050">sah_Queue_Construct()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g15f39c7291cd7162f1afad7301e93dac"></a><!-- doxytag: member="portable_os.h::os_copy_from_user" ref="g15f39c7291cd7162f1afad7301e93dac" args="(void *to, void *from, unsigned size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a> os_copy_from_user           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy data from User space to Kernel space<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>to</em>&nbsp;</td><td>The target location in kernel memory </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from</em>&nbsp;</td><td>The source location in user memory </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The number of bytes to be copied</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a> </dd></dl>

<p>Referenced by <a class="el" href="shw__driver_8c-source.html#l01515">add_entropy()</a>, <a class="el" href="shw__driver_8c-source.html#l01305">get_capabilities()</a>, <a class="el" href="shw__driver_8c-source.html#l01478">get_random()</a>, <a class="el" href="shw__driver_8c-source.html#l01401">get_results()</a>, <a class="el" href="shw__driver_8c-source.html#l00868">init_uco()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00271">rng_test_add_entropy()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00220">rng_test_get_random()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00323">rng_test_read_register()</a>, and <a class="el" href="rng__test__driver_8c-source.html#l00367">rng_test_write_register()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g1dc2eba81acedb6ec16595589433e53f"></a><!-- doxytag: member="portable_os.h::os_copy_to_user" ref="g1dc2eba81acedb6ec16595589433e53f" args="(void *to, void *from, unsigned size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a> os_copy_to_user           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy data from Kernel space to User space<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>to</em>&nbsp;</td><td>The target location in user memory </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from</em>&nbsp;</td><td>The source location in kernel memory </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The number of bytes to be copied</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a> </dd></dl>

<p>Referenced by <a class="el" href="shw__driver_8c-source.html#l00930">copy_fsl_code()</a>, <a class="el" href="rng__driver_8c-source.html#l00457">finish_random()</a>, <a class="el" href="shw__driver_8c-source.html#l01305">get_capabilities()</a>, <a class="el" href="shw__driver_8c-source.html#l01401">get_results()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00271">rng_test_add_entropy()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00220">rng_test_get_random()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00323">rng_test_read_register()</a>, and <a class="el" href="rng__test__driver_8c-source.html#l00367">rng_test_write_register()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g16c6b2188726b4fe088f472f80ec4964"></a><!-- doxytag: member="portable_os.h::os_create_task" ref="g16c6b2188726b4fe088f472f80ec4964" args="(os_task_fn_t *task_fn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">os_error os_create_task           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#ee861d0a6028be96920094eab39c33df">os_task_fn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>task_fn</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prepare a task to execute the given function. This should only be done once per task, during the driver's initialization routine.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>task_fn</em>&nbsp;</td><td>Name of the <a class="el" href="group__drsigs.html#gab170f0b322d2afa8ea89111142d67a2">OS_DEV_TASK()</a> function to be created.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an OS ERROR code. </dd></dl>

<p>Referenced by <a class="el" href="rng__driver_8c-source.html#l00187">OS_DEV_INIT()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gfb310b098fb04642f07c21af3df403e0"></a><!-- doxytag: member="portable_os.h::os_deregister_interrupt" ref="gfb310b098fb04642f07c21af3df403e0" args="(os_interrupt_id_t interrupt_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a> os_deregister_interrupt           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#fb6e8d8a9c761a5d88b892a713c3d64b">os_interrupt_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>interrupt_id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deregister an interrupt handler.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>interrupt_id</em>&nbsp;</td><td>The interrupt line to stop monitoring</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a> </dd></dl>

<p>Referenced by <a class="el" href="rng__driver_8c-source.html#l00414">rng_cleanup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g1c433a27817f4b89e7e8edf12fb33579"></a><!-- doxytag: member="portable_os.h::os_dev_schedule_task" ref="g1c433a27817f4b89e7e8edf12fb33579" args="(os_task_fn_t *task_fn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_dev_schedule_task           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#ee861d0a6028be96920094eab39c33df">os_task_fn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>task_fn</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run the task associated with an <a class="el" href="group__drsigs.html#gab170f0b322d2afa8ea89111142d67a2">OS_DEV_TASK()</a> function<p>
The task will begin execution sometime after or during this call.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>task_fn</em>&nbsp;</td><td>Name of the <a class="el" href="group__drsigs.html#gab170f0b322d2afa8ea89111142d67a2">OS_DEV_TASK()</a> function to be scheduled.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Referenced by <a class="el" href="rng__internals_8h-source.html#l00251">RNG_ADD_WORK_ENTRY()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g746d79bf01506b3b84556cd7fd733cfa"></a><!-- doxytag: member="portable_os.h::os_driver_add_registration" ref="g746d79bf01506b3b84556cd7fd733cfa" args="(os_driver_reg_t handle, os_driver_fn_t name, void *function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_driver_add_registration           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#4099620f0c099a877846b3739098b600">os_driver_reg_t</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#2c72196b3d76a121cc0e0b6bc91fe90a">os_driver_fn_t</a>&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>function</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a function registration to driver registration.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>The handle used with <a class="el" href="group__dkops.html#gee0e81a853a702de227a8cdc5537470f">os_driver_init_registration()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Which function is being supported. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>function</em>&nbsp;</td><td>The result of a call to a <code>_REF</code> version of one of the driver function signature macros driver function signature macros </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Referenced by <a class="el" href="rng__test__driver_8c-source.html#l00411">rng_test_setup_user_driver_interaction()</a>, and <a class="el" href="shw__driver_8c-source.html#l00820">shw_setup_user_driver_interaction()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g08371d56a1c9a9d6b6dbcf8d5a080bb3"></a><!-- doxytag: member="portable_os.h::os_driver_complete_registration" ref="g08371d56a1c9a9d6b6dbcf8d5a080bb3" args="(os_driver_reg_t handle, int major, char *driver_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a> os_driver_complete_registration           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#4099620f0c099a877846b3739098b600">os_driver_reg_t</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>driver_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finalize the driver registration with the kernel.<p>
Upon return from this call, the driver may begin receiving calls at the defined entry points.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>The handle used with <a class="el" href="group__dkops.html#gee0e81a853a702de227a8cdc5537470f">os_driver_init_registration()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>major</em>&nbsp;</td><td>The major device number to be associated with the driver. If this value is zero, a major number may be assigned. See <a class="el" href="group__dkops.html#gcdcbb1224bfc1d551a972ccef5052d4f">os_driver_get_major()</a> to determine final value. <a class="el" href="group__dkops.html#g745130e9c17f4cf2bf12cd94bfc4dfd0">os_driver_remove_registration()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>driver_name</em>&nbsp;</td><td>The driver name. Can be used as part of 'device node' name on platforms which support such a feature.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An error code </dd></dl>

<p>Referenced by <a class="el" href="rng__driver_8c-source.html#l00187">OS_DEV_INIT()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00411">rng_test_setup_user_driver_interaction()</a>, and <a class="el" href="shw__driver_8c-source.html#l00820">shw_setup_user_driver_interaction()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gcdcbb1224bfc1d551a972ccef5052d4f"></a><!-- doxytag: member="portable_os.h::os_driver_get_major" ref="gcdcbb1224bfc1d551a972ccef5052d4f" args="(os_driver_reg_t handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t os_driver_get_major           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#4099620f0c099a877846b3739098b600">os_driver_reg_t</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get driver Major Number from handle after a successful registration.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>A handle which has completed registration.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The major number (if any) associated with the handle. </dd></dl>

<p>Referenced by <a class="el" href="rng__test__driver_8c-source.html#l00411">rng_test_setup_user_driver_interaction()</a>, and <a class="el" href="shw__driver_8c-source.html#l00820">shw_setup_user_driver_interaction()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gee0e81a853a702de227a8cdc5537470f"></a><!-- doxytag: member="portable_os.h::os_driver_init_registration" ref="gee0e81a853a702de227a8cdc5537470f" args="(os_driver_reg_t handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a> os_driver_init_registration           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#4099620f0c099a877846b3739098b600">os_driver_reg_t</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize driver registration.<p>
If the driver handles open(), close(), ioctl(), read(), write(), or mmap() calls, then it needs to register their location with the kernel so that they get associated with the device.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>The handle object to be used with this registration. The object must live (be in memory somewhere) at least until <a class="el" href="group__dkops.html#g745130e9c17f4cf2bf12cd94bfc4dfd0">os_driver_remove_registration()</a> is called.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An os error code. </dd></dl>

<p>Referenced by <a class="el" href="rng__driver_8c-source.html#l00187">OS_DEV_INIT()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00411">rng_test_setup_user_driver_interaction()</a>, and <a class="el" href="shw__driver_8c-source.html#l00820">shw_setup_user_driver_interaction()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g745130e9c17f4cf2bf12cd94bfc4dfd0"></a><!-- doxytag: member="portable_os.h::os_driver_remove_registration" ref="g745130e9c17f4cf2bf12cd94bfc4dfd0" args="(int major, char *driver_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a> os_driver_remove_registration           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>driver_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove the driver's registration with the kernel.<p>
Upon return from this call, the driver not receive any more calls at the defined entry points (other than ISR and shutdown).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>major</em>&nbsp;</td><td>The major device number to be associated with the driver. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>driver_name</em>&nbsp;</td><td>The driver name</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An error code. </dd></dl>

<p>Referenced by <a class="el" href="rng__test__driver_8c-source.html#l00455">OS_DEV_SHUTDOWN()</a>, and <a class="el" href="shw__driver_8c-source.html#l00354">shw_cleanup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga284ac308e869761b86f7bf537b8055d"></a><!-- doxytag: member="portable_os.h::os_free_coherent" ref="ga284ac308e869761b86f7bf537b8055d" args="(unsigned size, void *virt_addr, uint32_t dma_addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_free_coherent           </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>virt_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>dma_addr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free cache-coherent memory<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Number of bytes which were allocated. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>virt_addr</em>&nbsp;</td><td>Virtual(kernel) address of memory.to be freed, as returned by <a class="el" href="group__dkops.html#g7e478c379c1333970ed699584464b188">os_alloc_coherent()</a>. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dma_addr</em>&nbsp;</td><td>Physical address of memory.to be freed, as returned by <a class="el" href="group__dkops.html#g7e478c379c1333970ed699584464b188">os_alloc_coherent()</a>.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

</div>
</div><p>
<a class="anchor" name="gcda51a54b44ce0788a295d92faa917de"></a><!-- doxytag: member="portable_os.h::os_free_memory" ref="gcda51a54b44ce0788a295d92faa917de" args="(void *location)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_free_memory           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>location</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free some kernel memory<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>location</em>&nbsp;</td><td>The beginning of the region to be freed.</td></tr>
  </table>
</dl>
Do some OSes have separate free() functions which should be distinguished by passing in <code>flags</code> here, too? Don't some also require the size of the buffer being freed? Perhaps separate routines for each alloc/free pair (DMAable, etc.)? 
<p>Referenced by <a class="el" href="shw__driver_8c-source.html#l01515">add_entropy()</a>, <a class="el" href="rng__driver_8c-source.html#l00457">finish_random()</a>, <a class="el" href="rng__driver_8c-source.html#l00554">fsl_shw_add_entropy()</a>, <a class="el" href="shw__driver_8c-source.html#l01595">fsl_shw_deregister_user()</a>, <a class="el" href="rng__driver_8c-source.html#l00489">fsl_shw_get_random()</a>, <a class="el" href="shw__driver_8c-source.html#l01679">fsl_shw_get_results()</a>, <a class="el" href="shw__driver_8c-source.html#l01401">get_results()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00188">OS_DEV_CLOSE()</a>, <a class="el" href="shw__driver_8c-source.html#l00399">OS_DEV_IOCTL()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00271">rng_test_add_entropy()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00220">rng_test_get_random()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00128">sah_HW_Reset()</a>, and <a class="el" href="sah__queue_8c-source.html#l00085">sah_Queue_Destroy()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g70b1d88921c338d1ebdb64267ac98624"></a><!-- doxytag: member="portable_os.h::os_get_process_handle" ref="g70b1d88921c338d1ebdb64267ac98624" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="portable__os_8h.html#28c2c207cfd08a24c5c467ecf5dd3b73">os_process_handle_t</a> os_get_process_handle           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine process handle<p>
The process handle of the current user is returned.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A handle on the current process. </dd></dl>

<p>Referenced by <a class="el" href="shw__driver_8c-source.html#l00868">init_uco()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g2e953010e68e1289b38948007a19e5a2"></a><!-- doxytag: member="portable_os.h::os_get_random_bytes" ref="g2e953010e68e1289b38948007a19e5a2" args="(void *buf, unsigned count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_get_random_bytes           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get some random bytes<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>The location to store the random data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>The number of bytes to store.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

</div>
</div><p>
<a class="anchor" name="g2d86f4f01b3d0449226c7235388fac94"></a><!-- doxytag: member="portable_os.h::os_lock" ref="g2d86f4f01b3d0449226c7235388fac94" args="(os_lock_t lock_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_lock           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a>&nbsp;</td>
          <td class="paramname"> <em>lock_handle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Acquire a lock.<p>
This function should only be called from an interrupt service routine.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lock_handle</em>&nbsp;</td><td>A handle to the lock to acquire.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

</div>
</div><p>
<a class="anchor" name="gd4338ff9bdad14659d26d388971e65f9"></a><!-- doxytag: member="portable_os.h::os_lock_alloc_init" ref="gd4338ff9bdad14659d26d388971e65f9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a> os_lock_alloc_init           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocate and initialize a lock, returning a lock handle.<p>
The lock state will be initialized to 'unlocked'.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A lock handle, or NULL if an error occurred. </dd></dl>

<p>Referenced by <a class="el" href="rng__driver_8c-source.html#l00187">OS_DEV_INIT()</a>, and <a class="el" href="sah__queue__manager_8c-source.html#l00151">sah_Queue_Manager_Init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf5e20881451160a10c8d3a84daff0424"></a><!-- doxytag: member="portable_os.h::os_lock_deallocate" ref="gf5e20881451160a10c8d3a84daff0424" args="(os_lock_t lock_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_lock_deallocate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a>&nbsp;</td>
          <td class="paramname"> <em>lock_handle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deallocate a lock handle.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lock_handle</em>&nbsp;</td><td>An <a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a> that has been allocated.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Referenced by <a class="el" href="shw__driver_8c-source.html#l00354">shw_cleanup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8bcf7e7da2c6a3329cdaa32bf59c0cbc"></a><!-- doxytag: member="portable_os.h::os_lock_save_context" ref="g8bcf7e7da2c6a3329cdaa32bf59c0cbc" args="(os_lock_t lock_handle, os_lock_context_t context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_lock_save_context           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a>&nbsp;</td>
          <td class="paramname"> <em>lock_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#db370bc4641d66b1e60209122a23587a">os_lock_context_t</a>&nbsp;</td>
          <td class="paramname"> <em>context</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Acquire a lock in non-ISR context<p>
This function will spin until the lock is available.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lock_handle</em>&nbsp;</td><td>A handle of the lock to acquire. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>Place to save the before-lock context</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Referenced by <a class="el" href="shw__driver_8c-source.html#l01595">fsl_shw_deregister_user()</a>, <a class="el" href="shw__driver_8c-source.html#l01679">fsl_shw_get_results()</a>, <a class="el" href="rng__driver_8c-source.html#l01033">OS_DEV_TASK()</a>, <a class="el" href="sah__status__manager_8c-source.html#l00088">sah_Handle_Interrupt()</a>, <a class="el" href="sah__queue__manager_8c-source.html#l00459">sah_postprocess_queue()</a>, <a class="el" href="sah__queue__manager_8c-source.html#l00415">sah_process_finished_request()</a>, <a class="el" href="sah__queue__manager_8c-source.html#l00262">sah_Queue_Manager_Append_Entry()</a>, <a class="el" href="sah__queue__manager_8c-source.html#l00387">sah_reset_sahara_request()</a>, <a class="el" href="shw__internals_8h-source.html#l00093">SHW_ADD_USER()</a>, and <a class="el" href="shw__internals_8h-source.html#l00112">SHW_REMOVE_USER()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga4a77052164ac99fc1369d44fed670a8"></a><!-- doxytag: member="portable_os.h::os_map_device" ref="ga4a77052164ac99fc1369d44fed670a8" args="(uint32_t start, unsigned range_bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* os_map_device           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>range_bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map an I/O space into kernel memory space<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>The starting address of the (physical / io space) region </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>range_bytes</em>&nbsp;</td><td>The number of bytes to map</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A pointer to the mapped area, or NULL on failure </dd></dl>

<p>Referenced by <a class="el" href="rng__driver_8c-source.html#l00851">rng_map_RNG_memory()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g9211786181e5654bbe3bdfdc7355d5f9"></a><!-- doxytag: member="portable_os.h::os_mdelay" ref="g9211786181e5654bbe3bdfdc7355d5f9" args="(unsigned long msecs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_mdelay           </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>msecs</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delay some number of microseconds<p>
Note that this is a busy-loop, not a suspension of the task/process.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msecs</em>&nbsp;</td><td>The number of microseconds to delay</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

</div>
</div><p>
<a class="anchor" name="g971cc25e12807b8e9292b1182a270661"></a><!-- doxytag: member="portable_os.h::os_pa" ref="g971cc25e12807b8e9292b1182a270661" args="(void *va)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t os_pa           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>va</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculate physical address from virtual address<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>va</em>&nbsp;</td><td>Virtual address</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>physical address</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>this assumes that addresses are 32 bits wide </dd></dl>

<p>Referenced by <a class="el" href="sah__hardware__interface_8c-source.html#l00128">sah_HW_Reset()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g0499729d4b98c8d8a53372c6d76ad5da"></a><!-- doxytag: member="portable_os.h::os_printk" ref="g0499729d4b98c8d8a53372c6d76ad5da" args="(char *msg,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_printk           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print a message to console / into log file. After the <code>msg</code> argument a number of printf-style arguments may be added. Types should be limited to printf string, char, octal, decimal, and hexadecimal types. (This excludes pointers, and floating point).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>The message to print to console / system log</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>(void) </dd></dl>

<p>Referenced by <a class="el" href="rng__test__driver_8c-source.html#l00071">OS_DEV_INIT()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00455">OS_DEV_SHUTDOWN()</a>, <a class="el" href="rng__driver_8c-source.html#l00943">rng_drain_fifo()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00271">rng_test_add_entropy()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00220">rng_test_get_random()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00323">rng_test_read_register()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00411">rng_test_setup_user_driver_interaction()</a>, <a class="el" href="rng__test__driver_8c-source.html#l00367">rng_test_write_register()</a>, and <a class="el" href="sah__hardware__interface_8c-source.html#l00128">sah_HW_Reset()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g74d5dec08d9a5514219195d7d579b8a7"></a><!-- doxytag: member="portable_os.h::os_read16" ref="g74d5dec08d9a5514219195d7d579b8a7" args="(uint16_t *register_address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t os_read16           </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&nbsp;</td>
          <td class="paramname"> <em>register_address</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a 16-bit device register<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>register_address</em>&nbsp;</td><td>The (bus) address of the register to write to </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The value in the register </dd></dl>

</div>
</div><p>
<a class="anchor" name="gc29de19d086fbb81959d682828185e9a"></a><!-- doxytag: member="portable_os.h::os_read32" ref="gc29de19d086fbb81959d682828185e9a" args="(uint32_t *register_address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t os_read32           </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>register_address</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a 32-bit device register<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>register_address</em>&nbsp;</td><td>The (bus) address of the register to write to </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The value in the register </dd></dl>

<p>Referenced by <a class="el" href="sah__hardware__interface_8c-source.html#l00452">sah_HW_Read_CDAR()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00500">sah_HW_Read_Config()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00392">sah_HW_Read_Control()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00440">sah_HW_Read_DAR()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00416">sah_HW_Read_Error_Status()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00476">sah_HW_Read_Fault_Address()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00464">sah_HW_Read_IDAR()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00488">sah_HW_Read_MM_Status()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00428">sah_HW_Read_Op_Status()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00404">sah_HW_Read_Status()</a>, and <a class="el" href="sah__hardware__interface_8c-source.html#l00380">sah_HW_Read_Version()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga22ac9cf1ddff655dbc1a47e35ee9520"></a><!-- doxytag: member="portable_os.h::os_read64" ref="ga22ac9cf1ddff655dbc1a47e35ee9520" args="(uint64_t *register_address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t os_read64           </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>register_address</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a 64-bit device register<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>register_address</em>&nbsp;</td><td>The (bus) address of the register to write to </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The value in the register </dd></dl>

</div>
</div><p>
<a class="anchor" name="g67e2cea32d1237f26cb1b6c7b87bbdfc"></a><!-- doxytag: member="portable_os.h::os_read8" ref="g67e2cea32d1237f26cb1b6c7b87bbdfc" args="(uint8_t *register_address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t os_read8           </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>register_address</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read an 8-bit device register<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>register_address</em>&nbsp;</td><td>The (bus) address of the register to write to </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The value in the register </dd></dl>

</div>
</div><p>
<a class="anchor" name="gc4ea068622ba476068356af1e5a366be"></a><!-- doxytag: member="portable_os.h::os_register_interrupt" ref="gc4ea068622ba476068356af1e5a366be" args="(char *driver_name, os_interrupt_id_t interrupt_id, os_interrupt_handler_t function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a> os_register_interrupt           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>driver_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#fb6e8d8a9c761a5d88b892a713c3d64b">os_interrupt_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>interrupt_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#292a8d244b48eb3db5107460191b11b8">os_interrupt_handler_t</a>&nbsp;</td>
          <td class="paramname"> <em>function</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Register an interrupt handler.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>driver_name</em>&nbsp;</td><td>The name of the driver </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>interrupt_id</em>&nbsp;</td><td>The interrupt line to monitor (type <a class="el" href="portable__os_8h.html#fb6e8d8a9c761a5d88b892a713c3d64b">os_interrupt_id_t</a>) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>function</em>&nbsp;</td><td>The function to be called to handle an interrupt</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a> </dd></dl>

<p>Referenced by <a class="el" href="rng__driver_8c-source.html#l00874">rng_setup_interrupt_handling()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g3ae84e4979e6709f3b07bd37cce0f0e6"></a><!-- doxytag: member="portable_os.h::os_send_signal" ref="g3ae84e4979e6709f3b07bd37cce0f0e6" args="(os_process_handle_t proc, int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_send_signal           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#28c2c207cfd08a24c5c467ecf5dd3b73">os_process_handle_t</a>&nbsp;</td>
          <td class="paramname"> <em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sig</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send a signal to a process<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>proc</em>&nbsp;</td><td>A handle to the target process. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sig</em>&nbsp;</td><td>The POSIX signal to send to that process. </td></tr>
  </table>
</dl>

<p>Referenced by <a class="el" href="shw__driver_8c-source.html#l00798">shw_user_callback()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gdbc31e47f006e8376ffd28455c9bd9fb"></a><!-- doxytag: member="portable_os.h::os_sleep" ref="gdbc31e47f006e8376ffd28455c9bd9fb" args="(os_sleep_object_t object, unsigned condition, unsigned atomic)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="portable__os_8h.html#5bea54bf8ff6cfca0e16593c776a898d">os_error_code</a> os_sleep           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#6c22ae0bdcfec6ae297ecfe72283a319">os_sleep_object_t</a>&nbsp;</td>
          <td class="paramname"> <em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>atomic</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Go to sleep on an object.<p>
Example: code = os_sleep(my_queue, available_count == 0, 0);<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>The object on which to sleep </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>condition</em>&nbsp;</td><td>An expression to check for sleep completion. Must be coded so that it can be referenced more than once inside macro, i.e., no ++ or other modifying expressions. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>atomic</em>&nbsp;</td><td>Non-zero if sleep must not return until condition.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>error code -- OK or sleep interrupted?? </dd></dl>

<p>Referenced by <a class="el" href="rng__driver_8c-source.html#l00489">fsl_shw_get_random()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8b821ba6b4dd5a1515d90e34a3ab52c9"></a><!-- doxytag: member="portable_os.h::os_stop_task" ref="g8b821ba6b4dd5a1515d90e34a3ab52c9" args="(os_task_fn_t *task_fn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_stop_task           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#ee861d0a6028be96920094eab39c33df">os_task_fn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>task_fn</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Make sure that task is no longer running and will no longer run.<p>
This function will not return until both are true. This is useful when shutting down a driver.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>task_fn</em>&nbsp;</td><td>Name of the <a class="el" href="group__drsigs.html#gab170f0b322d2afa8ea89111142d67a2">OS_DEV_TASK()</a> funciton to be stopped. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ga14b2da6f213563604f6d18d1bec1ba5"></a><!-- doxytag: member="portable_os.h::os_unlock" ref="ga14b2da6f213563604f6d18d1bec1ba5" args="(os_lock_t lock_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_unlock           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a>&nbsp;</td>
          <td class="paramname"> <em>lock_handle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unlock a lock. Lock must have been acquired by <a class="el" href="group__dkops.html#g2d86f4f01b3d0449226c7235388fac94">os_lock()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lock_handle</em>&nbsp;</td><td>A handle to the lock to unlock.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

</div>
</div><p>
<a class="anchor" name="g059adc093b8dca445a4a4e8bfd89b540"></a><!-- doxytag: member="portable_os.h::os_unlock_restore_context" ref="g059adc093b8dca445a4a4e8bfd89b540" args="(os_lock_t lock_handle, os_lock_context_t context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_unlock_restore_context           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#a35d1aba68029da3351f918d97ab8e41">os_lock_t</a>&nbsp;</td>
          <td class="paramname"> <em>lock_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#db370bc4641d66b1e60209122a23587a">os_lock_context_t</a>&nbsp;</td>
          <td class="paramname"> <em>context</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Release a lock in non-ISR context<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lock_handle</em>&nbsp;</td><td>A handle of the lock to release. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>Place where before-lock context was saved.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Referenced by <a class="el" href="shw__driver_8c-source.html#l01595">fsl_shw_deregister_user()</a>, <a class="el" href="shw__driver_8c-source.html#l01679">fsl_shw_get_results()</a>, <a class="el" href="rng__driver_8c-source.html#l01033">OS_DEV_TASK()</a>, <a class="el" href="sah__status__manager_8c-source.html#l00088">sah_Handle_Interrupt()</a>, <a class="el" href="sah__queue__manager_8c-source.html#l00459">sah_postprocess_queue()</a>, <a class="el" href="sah__queue__manager_8c-source.html#l00415">sah_process_finished_request()</a>, <a class="el" href="sah__queue__manager_8c-source.html#l00262">sah_Queue_Manager_Append_Entry()</a>, <a class="el" href="sah__queue__manager_8c-source.html#l00387">sah_reset_sahara_request()</a>, <a class="el" href="shw__internals_8h-source.html#l00093">SHW_ADD_USER()</a>, and <a class="el" href="shw__internals_8h-source.html#l00112">SHW_REMOVE_USER()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g063e51a71245abecf155e67ad3415761"></a><!-- doxytag: member="portable_os.h::os_unmap_device" ref="g063e51a71245abecf155e67ad3415761" args="(void *start, unsigned range_bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_unmap_device           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>range_bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unmap an I/O space from kernel memory space<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>The starting address of the (virtual) region </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>range_bytes</em>&nbsp;</td><td>The number of bytes to unmap</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Referenced by <a class="el" href="rng__driver_8c-source.html#l00387">OS_DEV_SHUTDOWN()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g1b5d2559d7b0a305aa2e9725ad496589"></a><!-- doxytag: member="portable_os.h::os_va" ref="g1b5d2559d7b0a305aa2e9725ad496589" args="(uint32_t pa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* os_va           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>pa</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculate virtual address from physical address<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pa</em>&nbsp;</td><td>Physical address</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>virtual address</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>this assumes that addresses are 32 bits wide </dd></dl>

</div>
</div><p>
<a class="anchor" name="g38c6ca1a524b1e0a6cd5b08e362e91d3"></a><!-- doxytag: member="portable_os.h::os_wake_sleepers" ref="g38c6ca1a524b1e0a6cd5b08e362e91d3" args="(os_sleep_object_t object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_wake_sleepers           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="portable__os_8h.html#6c22ae0bdcfec6ae297ecfe72283a319">os_sleep_object_t</a>&nbsp;</td>
          <td class="paramname"> <em>object</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wake up whatever is sleeping on sleep object<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>The object on which things might be sleeping</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>none </dd></dl>

<p>Referenced by <a class="el" href="rng__driver_8c-source.html#l01033">OS_DEV_TASK()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g4129596ffaebdfce85c27d13a5753ef1"></a><!-- doxytag: member="portable_os.h::os_write16" ref="g4129596ffaebdfce85c27d13a5753ef1" args="(uint16_t *register_address, uint16_t value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_write16           </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&nbsp;</td>
          <td class="paramname"> <em>register_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a 16-bit device register<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>register_address</em>&nbsp;</td><td>The (bus) address of the register to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>The value to write into the register </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ga5dcf82c7b68d6e9525d14ed809fb421"></a><!-- doxytag: member="portable_os.h::os_write32" ref="ga5dcf82c7b68d6e9525d14ed809fb421" args="(uint32_t *register_address, uint32_t value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_write32           </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>register_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a 32-bit device register<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>register_address</em>&nbsp;</td><td>The (bus) address of the register to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>The value to write into the register </td></tr>
  </table>
</dl>

<p>Referenced by <a class="el" href="sah__hardware__interface_8c-source.html#l00514">sah_HW_Write_Command()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00544">sah_HW_Write_Config()</a>, <a class="el" href="sah__hardware__interface_8c-source.html#l00529">sah_HW_Write_Control()</a>, and <a class="el" href="sah__hardware__interface_8c-source.html#l00560">sah_HW_Write_DAR()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gd9e053445789c74e4fb4c5ab01cb6a70"></a><!-- doxytag: member="portable_os.h::os_write64" ref="gd9e053445789c74e4fb4c5ab01cb6a70" args="(uint64_t *register_address, uint64_t value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_write64           </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>register_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a 64-bit device register<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>register_address</em>&nbsp;</td><td>The (bus) address of the register to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>The value to write into the register </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g1a8c6f9875689a20c4c4d45314a2e907"></a><!-- doxytag: member="portable_os.h::os_write8" ref="g1a8c6f9875689a20c4c4d45314a2e907" args="(uint8_t *register_address, uint8_t value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_write8           </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>register_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write an 8-bit device register<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>register_address</em>&nbsp;</td><td>The (bus) address of the register to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>The value to write into the register </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<Title>footer</Title>
</HEAD>
<BODY>
</ul>
</ul>
</ul>
</ul>
<hr size="1">
<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber1">
  <tr>
    <td width="50%"><small>&nbsp; Freescale Semiconductor, Inc., 2007.&nbsp; 
    All rights reserved.<br>
    </small><FONT COLOR="#FF0000"><small>Freescale Confidential Proprietary<br>
    </small></FONT><small><FONT COLOR="#FF0000">NDA Required</FONT></small></td>
    <td width="50%"><small>
<a href="http://www.doxygen.org/index.html">
<img src="Freescale25.png" alt="doxygen" align="right" border="0" width="129" height="48"></a></small></td>
  </tr>
</table>
<address style="align: right;">&nbsp;</address>
</body>
</html>
